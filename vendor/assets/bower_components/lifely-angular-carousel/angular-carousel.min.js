/**
 * @license AngularJS v1.1.0
 * (c) 2015 Lifely
 * License: MIT
 */
angular.module("angular-carousel",[]).factory("Carousel",function(){var n={}
n.instances={},n.add=function(t,o,a){if(o=o||!1,!o)return"Error: no carousel name specified"
t=t||0
var r=n.instances[o]||!1
if(r)return"Error: carousel instance already exists"
var i=new e(t,a)
return n.instances[o]=i,i},n.get=function(e){var t=n.instances[e]||!1
return t?t:"Error: carousel with name '"+e+"' does not exist"},n.remove=function(e){delete n.instances[e]}
var e=function(n,e){var t=this
this.slidesCount=n,this.currentSlide=0,this.onSlideChangeCallbacks=[],this.toIndex=function(n,o){o=o||!1,this.currentSlide=n%this.slidesCount,angular.forEach(this.onSlideChangeCallbacks,function(n){"function"==typeof n&&n(t.currentSlide,o)}),setTimeout(function(){e.$apply()},0)},this.next=function(){var n=this.currentSlide+1,e=!1
return n>this.slidesCount-1&&(n=0,e="right"),this.toIndex(n,e),n},this.previous=function(){var n=this.currentSlide-1,e=!1
return 0>n&&(n=this.slidesCount-1,e="left"),this.toIndex(n,e),n},this.onSlideChange=function(n){return this.onSlideChangeCallbacks.push(n),this.onSlideChangeCallbacks.indexOf(n)},this.unbindOnSlideChangeCallback=function(n){void 0!==this.onSlideChangeCallbacks[n]&&this.onSlideChangeCallbacks.splice(n,1)}}
return n}).directive("ngCarousel",["Carousel","$compile","$document","$timeout",function(n,e,t,o){function a(){return"ontouchstart"in document.documentElement}var r=25
return{restrict:"AE",replace:!0,scope:{ngCarouselWatch:"="},link:function(e,i,s){var l=!1,u=!1,c=!1,d=""
l=void 0!==s.ngCarouselTimer&&parseInt(s.ngCarouselTimer,10)>0?parseInt(s.ngCarouselTimer,10):!1,c=void 0!==s.ngCarouselRandom
var f,h,g,C,m,v,d,S=function(){i.addClass("ng-carousel"),i.addClass(a()?"carousel-touch":"carousel-no-touch"),m=i.find("slidecontainer")
var t=!1,o=!1
d&&(t=n.get(d).currentSlide,o=n.get(d).onSlideChangeCallbacks,n.remove(d))
var r=function(){var n=angular.element(i[0].querySelectorAll(".carousel-slide-copy"))
n.length>0&&n.remove()}
if(r(),f=i.find("slide"),f.length>0){d=s.ngCarouselName,h=n.add(f.length,s.ngCarouselName,e),angular.forEach(o,function(n){h.onSlideChange(n),h.unbindOnSlideChangeCallback(0)})
var u=function(){r(),f=i.find("slide"),g=angular.element(f[0].outerHTML),C=angular.element(f[f.length-1].outerHTML),g.addClass("carousel-slide-copy"),C.addClass("carousel-slide-copy"),m.append(g),m.prepend(C),m.addClass("carousel-ignore-first-slide")}
u()
var S=function(n,e){var t=n+1
"left"===e?t=0:"right"===e&&(t=f.length+1),b(t,!0,function(){"left"===e?b(f.length,!1):"right"===e&&b(1,!1)}),p(),u()}
if(h.onSlideChange(S),t!==!1&&h.currentSlide!==t&&(S(h.currentSlide,!1),h.toIndex(t)),c){var k=Math.floor(Math.random()*h.slidesCount)
h.toIndex(k)}l&&p()}else console.log("ng-carousel error: No slides found")
m[0]?(v=new Hammer.Manager(m[0]),v.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,threshold:0})),v.on("panleft panright",function(n){n.isFinal||T(n.deltaX)})):console.log("ng-carousel error: No slidecontainer found")},p=function(){l&&(u&&o.cancel(u),u=o(function(){h.next()},l))},b=function(n,e,t){e?m.addClass("carousel-animate"):m.removeClass("carousel-animate")
var o="translate(-"+100*n+"%, 0)"
m.css({"-webkit-transform":o,"-moz-transform":o,"-ms-transform":o,"-o-transform":o,transform:o}),e&&m.on("transitionend oTransitionEnd webkitTransitionEnd",function(){"function"==typeof t&&t(),m.off("transitionend oTransitionEnd webkitTransitionEnd"),b(h.currentSlide+1,!1)})},k=0,E=0,T=function(n){k=n/E,k=k>1?1:-1>k?-1:k,b(h.currentSlide+1-k,!1)},x=function(){E=m[0].offsetWidth},w=function(){Math.abs(k)>r/100?(k>0?h.previous():h.next(),k=0):(k>0||0>k)&&b(h.currentSlide+1,!0,function(){k=0})},y=a()?"touchstart":"mousedown",I=a()?"touchend":"mouseup"
t.on(y,x),t.on(I,w),i.on("mouseover",function(){u&&o.cancel(u)}),i.on("mouseout",p)
var $=o(S,0)
void 0!==s.ngCarouselWatch&&e.$watch("ngCarouselWatch",function(){o(S)},!0),e.$on("$destroy",function(){o.cancel($),i.off("mouseover mouseout"),t.off(y),t.off(I),m.off("transitionend oTransitionEnd webkitTransitionEnd"),h.onSlideChangeCallbacks=[],n.remove(d)})}}}])